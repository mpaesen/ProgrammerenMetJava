<html>
<head>
<title>Java in a Nutshell Example Code</title>
</head>
<body>
<CENTER>
<h1><I>Java in a Nutshell</I><BR>Example Code</h1>
</CENTER>

The Java programming examples shown here are from the book 
<A HREF="http://www.ora.com/catalog/books/javanut">
<I>Java in a Nutshell</I>
</A>, 
by David Flanagan, published by O'Reilly & Associates.
The examples were written by David Flanagan, and are Copyright (c) 1996
by O'Reilly and Associates.  You may study, use, and modify these
examples for any purpose, but note that they are provided with NO
WARRANTY express or implied.
<P>
You may also download the complete set of examples as a 
<A HREF="ftp://ftp.ora.com/published/oreilly/nutshell/java/examples.zip">
zip file</A>
or as a
<A HREF="ftp://ftp.ora.com/published/oreilly/nutshell/java/examples.tar.Z">
compressed tar file</A>
or as a
<A HREF="ftp://ftp.ora.com/published/oreilly/nutshell/java/examples.tar.gz">
gzipped tar file</A>.

Note that a number of the examples here, particularly those in Section
5, do not stand alone--they rely on other examples from the book or on
images from subdirectories.  Thus, if you want to experiment with the
examples, I recommend that you download the entire distribution by ftp,
rather than downloading the examples one at a time through your Web
browser.

<h2>A Note on Bugs and Portability</h2>

The example code here has all been tested on my platform.  That means
that it will probably, but not necessarily, run on your platform--Java
is still not as portable as it should be, and there are still buggy
implementations out there.  If you have trouble with any of these
examples, please first try to figure out the problem, and then send
e-mail to bookquestions@ora.com.  In your e-mail, please be sure to
mention what platform you're using (i.e. what type of computer, what
version of the operating system, and what vendor and version of Java you
are using.)  If you have found a workaround to the problem on your
platform, please include it so we'll be able to share that workaround
with others who have the same problem.  You might also want to submit a
bug report to the vendor of your Java environment.

<h2>The Examples</h2>

The examples from the book are all below.  Each one has a short
description, and a link that will take you to the source code.  In
addition, there are links that will allow you to run most of the applet
examples directly.  Enjoy!
<P>
<I>David Flanagan</I>
<br>
<I>April 5th, 1996</I>
<HR>

<h3>Example 1-2</h3>
<B>Scribble</B> -- 
an applet of intermediate complexity, used as an example in the
introductory chapter.  Click and scribble in the window.  
<br>
<A HREF=section1/Scribble.java>view source code</A>&nbsp
<A HREF=section1/Scribble.html>run the applet</A>

<h3>Example 2-3</h3>
<B>throwtest</B> -- 
an application that demonstrates how to define, throw, and
handle exceptions.  This application doesn't <I>do</I> anything other
than print out some text, but if you might want to study it and play
around with it to learn more about how exceptions work in Java.  See
the usage instructions in the source code.
<br>
<A HREF=section2/throwtest.java>view source code</A>&nbsp

<h3>Example 4-1</h3>
<B>FirstApplet</B> -- 
the simplest possible applet; displays "Hello World".
<br>
<A HREF=section4/FirstApplet.java>view source code</A>&nbsp
<A HREF=section4/FirstApplet.html>run the applet</A>

<h3>Example 4-2</h3>
<B>SecondApplet</B> -- 
a fancier version of Hello World.
<br>
<A HREF=section4/SecondApplet.java>view source code</A>&nbsp
<A HREF=section4/SecondApplet.html>run the applet</A>

<h3>Example 4-3</h3>
<B>Scribble</B> -- 
a simple applet with user interaction.  Click and scribble
in the window.  This applet cannot refresh itself.
<br>
<A HREF=section4/Scribble.java>view source code</A>&nbsp
<A HREF=section4/Scribble.html>run the applet</A>

<h3>Example 4-4</h3>
<B>EventTester</B> -- 
play with the mouse and keyboard in this window.  It will
tell you what events are generated.
<br>
<A HREF=section4/EventTester.java>view source code</A>&nbsp
<A HREF=section4/EventTester.html>run the applet</A>

<h3>Example 4-5</h3>
<B>ColorScribble</B> -- 
the scribble applet in color.  The colors are specified
by <PARAM> tags in the HTML file, and are read by the applet code.
<br>
<A HREF=section4/ColorScribble.java>view source code</A>&nbsp
<A HREF=section4/ColorScribble.html>run the applet</A>

<h3>Example 4-6</h3>
<B>ClearableScribble</B> -- 
we add a <b>Clear</b> button to the basic Scribble
applet.  
<br>
<A HREF=section4/ClearableScribble.java>view source code</A>&nbsp
<A HREF=section4/ClearableScribble.html>run the applet</A>

<h3>Example 4-7</h3>
<B>Imagemap</B> -- 
an example of a simple client-side imagemap implmented in
Java. 
<br>
<A HREF=section4/Imagemap.java>view source code</A>&nbsp
<A HREF=section4/Imagemap.html>run the applet</A>

<h3>Example 4-8</h3>
<B>Animator</B> -- 
simple animation in Java.
<br>
<A HREF=section4/Animator.java>view source code</A>&nbsp
<A HREF=section4/Animator.html>run the applet</A>

<h3>Example 4-9</h3>
<B>AudioAnimator</B> -- 
play a sound and animate.
<br>
<A HREF=section4/AudioAnimator.java>view source code</A>

<h3>Example 4-10</h3>
<B>StandaloneScribble</B> -- 
an applet converted to run as a standalone Java
application. 
<br>
<A HREF=section4/StandaloneScribble.java>view source code</A>

<h3>Example 5-1</h3>
<B>InfoDialog</B> -- 
a dialog box with a message and an <b>Okay</b> button.
Suitable for inclusion in applications or applets.
<br>
<A HREF=section5/InfoDialog.java>view source code</A>

<h3>Example 5-2</h3>
<B>YesNoDialog</B> -- 
a dialog box with a message and two buttons with
configurable text.  Suitable for inclusion in applications or applets.
This example won't run by itself; it must be used within some other
application or applet, like Example 5-5.
<br>
<A HREF=section5/YesNoDialog.java>view source code</A>

<h3>Example 5-3</h3>
<B>ReallyQuitDialog</B> -- 
a subclass of the previous example; asks if the user
really wants to quit.  Suitable for inclusion in applications or applets.
This example won't run by itself; it must be used within some other
application or applet, like Example 5-5.
<br>
<A HREF=section5/ReallyQuitDialog.java>view source code</A>

<h3>Example 5-4</h3>
<B>AllComponents</B> -- 
a big window with an example of each kind of GUI
component supported by Java.  Note: This examples relies on many of the other
examples in this section, including Example 5-6, which has portability
problems on some platforms.  See Example 5-6 for details.
<br>
<A HREF=section5/AllComponents.java>view source code</A>

<h3>Example 5-5</h3>
<B>AllEvents</B> -- 
a subclass of the previous example that shows how to handle
events from each of the GUI components.Note: This examples relies on
many of the other examples in this section, including Example 5-6, which
has portability problems on some platforms.  See Example 5-6 for
details.
<br>
<A HREF=section5/AllEvents.java>view source code</A>

<h3>Example 5-6</h3>

<B>ScrollableScribble</B> -- an example of working with scrollbars.  This class
was used in Example 5-4 and Example 5-5.  Note that there are some
portability problems with this example (that may also effect examples
5-4 and 5-5.)  
<UL>
<LI>
On Java ports that are still based on the JDK beta 1
release, certain Scrollbar methods aren't defined, and this example
won't compile or run correctly.  
</LI>
<LI>
One user (Scott Gartner) of Symantec
Cafe on a Windows platform has reported that he has had to change the
code of this example to get it to work correctly.  You can download his
version below.  The problem seems to have to do with the coordinate
system in which mouse events are reported.
</LI>
</UL>
<A HREF=section5/ScrollableScribble.java>view source code</A>
<br>
<A HREF=section5/ScrollableScribble.workaround.java>
view source code workaround for Cafe
</A>

<h3>Example 5-7</h3>
<B>MultiLineLabel</B> -- 
an example of creating a custom GUI component.  This
is the multi-line label component used in the dialog boxes of examples
5-1 and 5-2.
<br>
<A HREF=section5/MultiLineLabel.java>view source code</A>

<h3>Example 6-1</h3>
<B>FileViewer</B> -- 
reads the contents of a specified file and displays them
in a window.
<br>
<A HREF=section6/FileViewer.java>view source code</A>

<h3>Example 6-2</h3>
<B>FileLister</B> -- 
reads the contents of a directory and displays them.
Double clicking on an item displays the file or directory contents.
<br>
<A HREF=section6/FileLister.java>view source code</A>

<h3>Example 6-3</h3>
<B>FileCopy</B> -- 
copy a file.  Like Unix <I>cp</I> or DOS <I>copy</I>.
<br>
<A HREF=section6/FileCopy.java>view source code</A>

<h3>Example 6-4</h3>
<B>GrepInputStream</B> -- 
an example of subclassing FilterInputStream to do
custom filtering.
<br>
<A HREF=section6/GrepInputStream.java>view source code</A>

<h3>Example 6-5</h3>
<B>Grep</B> -- 
an example of using a FilterInputStream subclass.
<br>
<A HREF=section6/Grep.java>view source code</A>

<h3>Example 6-6</h3>
<B>Pipes</B> -- 
a complicated but rewarding example of using pipes in Java.
<br>
<A HREF=section6/Pipes.java>view source code</A>

<h3>Example 7-1</h3>
<B>Fetch</B> -- 
this example demonstrates how you can use the <TT>URL.getContent()</TT>
method to download plain text files (but not HTML or other kinds of text
files).  Invoke this program with the URL of a text file as its only
argument.  If you use a file: URL, you may have to give the file a .txt
extension so the system recognizes it as a plain text file.
<P>
This example also contains a <TT>fetchimage()</TT> method that uses
<TT>URL.getContent()</TT> to download images in GIF and other common
file formats.  You can use the separate FetchImageTest class to
demonstrate the use of the <TT>fetchimage()</TT> method.
<P>
These plain text and image fetching examples rely on "content handlers"
internal to the Java implementation.  They work on JDK systems, but may
not work on other Java implementations, if those implementations do not
include the  appropriate content handlers.  If you attempt to download a
file with an unsupported content type, the example will generate an
exception and exit.
<P>
Note that this example is intended only to demonstrate the use of 
<TT>URL.getContent()</TT>.  In general, this is <I>not</I> the best way
to load text or image files over the net.  See <TT>Applet.getImage()</TT>, for
example. 
<br>
<A HREF=section7/Fetch.java>view source code</A>
<br>
<A HREF=section7/FetchImageTest.java>
view source code for the FetchImageTest class that demonstrates image fetching
</A>

<h3>Example 7-2</h3>
<B>GetURLInfo</B> -- 
demonstrates how to obtain more information about a URL, 
and how to have more control over downloading the contents of the URL.
<br>
<A HREF=section7/GetURLInfo.java>view source code</A>

<h3>Example 7-3</h3>
<B>UDPSend</B> -- 
send a datagram.
<br>
<A HREF=section7/UDPSend.java>view source code</A>

<h3>Example 7-4</h3>
<B>UDPReceive</B> -- 
receive a datagram.
<br>
<A HREF=section7/UDPReceive.java>view source code</A>

<h3>Example 7-5</h3>
<B>Server</B> -- 
a server that can accept connections from any number of
clients.  This example provides the service of reversing the characters
on each line it reads and sending the reversed lines back.
<br>
<A HREF=section7/Server.java>view source code</A>

<h3>Example 7-6</h3>
<B>Client</B> -- 
an example client to work with the previous example.
<br>
<A HREF=section7/Client.java>view source code</A>

<h3>Example 7-7</h3>
<B>AppletClient</B> -- 
a client implemented as an applet.  You cannot directly run this applet
here because the server (Example 7-5) is not running.  To test this
applet, bear in mind that for reasons of applet security, the server
must be running on the same machine that the applet is loaded from.
<P>
A number of people have reported having trouble getting this example to
work, and I have not been able to diagnose the problem.  The applet does
at least work with the Linux port of the 1.0.1 JDK, when both the server
and applet are running on the local machine.  If this applet does not
work for you, it may be that your Java implementation is at fault.
Networking is one of the areas in which Java is not yet as portable as
it should be.
<br>
<A HREF=section7/AppletClient.java>view source code</A>

<h3>Example 8-1</h3>
<B>Smooth</B> -- 
demonstration of techniques for smooth animation
<br>
<A HREF=section8/Smooth.java>view source code</A>&nbsp
<A HREF=section8/Smooth.html>run the applet</A>

<h3>Example 8-2</h3>
<B>Animator2</B> -- 
a better animator applet.  Uses MediaTracker.
<br>
<A HREF=section8/Animator2.java>view source code</A>&nbsp
<A HREF=section8/Animator2.html>run the applet</A>

<h3>Example 8-3</h3>
<B>GrayButton</B> -- 
an example of image processing with the RGBImageFilter
class. 
<br>
<A HREF=section8/GrayButton.java>view source code</A>
<A HREF=section8/GrayButton.html>run the applet</A>

<h3>Example 9-1</h3>
<B>ThreadLister</B> -- 
list all the threads and threadgroups running in the
interpreter. 
<br>
<A HREF=section9/ThreadLister.java>view source code</A>

<h3>Example 9-2</h3>
<B>AppletThreadLister</B> -- 
an applet version of the previous example.
<br>
<A HREF=section9/AppletThreadLister.java>view source code</A>&nbsp
<A HREF=section9/AppletThreadLister.html>run the applet</A>

<h3>Example 9-3</h3>
<B>Server</B> -- 
another Server example with more sophisticated thread usage.
<br>
<A HREF=section9/Server.java>view source code</A>

<h3>Example 9-4</h3>
<B>Client</B> -- 
another client example also with more sophisticated thread usage.
<br>
<A HREF=section9/Client.java>view source code</A>

</body>
</html>
